/*!
* Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/
var URLSearchParams=URLSearchParams||function(){"use strict";function t(t){var r,o,a,s,c,u,f=Object.create(null);if(this[h]=f,t)if("string"==typeof t)for("?"===t.charAt(0)&&(t=t.slice(1)),s=t.split("&"),c=0,u=s.length;c<u;c++)a=s[c],r=a.indexOf("="),-1<r?n(f,e(a.slice(0,r)),e(a.slice(r+1))):a.length&&n(f,e(a),"");else if(i(t))for(c=0,u=t.length;c<u;c++)a=t[c],n(f,a[0],a[1]);else for(o in t)n(f,o,t[o])}function n(t,n,e){n in t?t[n].push(""+e):t[n]=i(e)?e:[""+e]}function e(t){return decodeURIComponent(t.replace(s," "))}function r(t){return encodeURIComponent(t).replace(a,u)}var i=Array.isArray,o=t.prototype,a=/[!'\(\)~]|%20|%00/g,s=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},u=function(t){return c[t]},h="__URLSearchParams__:"+Math.random();o.append=function(t,e){n(this[h],t,e)},o.delete=function(t){delete this[h][t]},o.get=function(t){var n=this[h];return t in n?n[t][0]:null},o.getAll=function(t){var n=this[h];return t in n?n[t].slice(0):[]},o.has=function(t){return t in this[h]},o.set=function(t,n){this[h][t]=[""+n]},o.forEach=function(t,n){var e=this[h];Object.getOwnPropertyNames(e).forEach(function(r){e[r].forEach(function(e){t.call(n,e,r,this)},this)},this)},o.toJSON=function(){return{}},o.toString=function(){var t,n,e,i,o=this[h],a=[];for(n in o)for(e=r(n),t=0,i=o[n];t<i.length;t++)a.push(e+"="+r(i[t]));return a.join("&")};var f=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=function(t){function n(n,e){o.append.call(this,n,e),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function e(n){o.delete.call(this,n),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function r(n,e){o.set.call(this,n,e),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}return function(t,i){return t.append=n,t.delete=e,t.set=r,f(t,"_usp",{configurable:!0,writable:!0,value:i})}},v=function(t){return function(n,e){return f(n,"_searchParams",{configurable:!0,writable:!0,value:t(e,n)}),e}},d=function(n){var e=n.append;n.append=o.append,t.call(n,n._usp.search.slice(1)),n.append=e},g=function(t,n){if(!(t instanceof n))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+n.name)},m=function(n){var e,r=n.prototype,i=l(r,"searchParams"),o=l(r,"href"),a=l(r,"search");!i&&a&&a.set&&(e=v(p(a)),Object.defineProperties(r,{href:{get:function(){return o.get.call(this)},set:function(t){var n=this._searchParams;o.set.call(this,t),n&&d(n)}},search:{get:function(){return a.get.call(this)},set:function(t){var n=this._searchParams;a.set.call(this,t),n&&d(n)}},searchParams:{get:function(){return g(this,n),this._searchParams||e(this,new t(this.search.slice(1)))},set:function(t){g(this,n),e(this,t)}}}))};return m(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&m(URL),t}();!function(t){var n=function(){try{return!!Symbol.iterator}catch(t){return!1}}();"forEach"in t||(t.forEach=function(t,n){var e=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(r){!r.length||r in e||(e[r]=this.getAll(r)).forEach(function(e){t.call(n,e,r,this)},this)},this)}),"keys"in t||(t.keys=function(){var t=[];this.forEach(function(n,e){t.push(e)});var e={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return n&&(e[Symbol.iterator]=function(){return e}),e}),"values"in t||(t.values=function(){var t=[];this.forEach(function(n){t.push(n)});var e={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return n&&(e[Symbol.iterator]=function(){return e}),e}),"entries"in t||(t.entries=function(){var t=[];this.forEach(function(n,e){t.push([e,n])});var e={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return n&&(e[Symbol.iterator]=function(){return e}),e}),!n||Symbol.iterator in t||(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,n,e,r=this.entries(),i=r.next(),o=i.done,a=[],s=Object.create(null);!o;)e=i.value,n=e[0],a.push(n),n in s||(s[n]=[]),s[n].push(e[1]),i=r.next(),o=i.done;for(a.sort(),t=0;t<a.length;t++)this.delete(a[t]);for(t=0;t<a.length;t++)n=a[t],this.append(n,s[n].shift())})}(URLSearchParams.prototype);